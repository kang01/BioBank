<div class="panel panel-default">
    <div class="panel-heading">
        <div class="row">
            <div class="col-md-4">
                <h4>
                    样本清单
                </h4>
            </div>
            <div class="col-md-8 text-right">
                <button class="btn btn-default" style="margin-top: 3px" ng-click="vm.searchShow()">搜索</button>
                <!--<button class="btn btn-default">关闭</button>-->
            </div>
        </div>
    </div>
    <div class="panel-body p-5">
        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <!--折线-->
                        <div ng-if="vm.daySampleCountFlag" class="text-center" style="position: relative">
                            <h4 style="font-weight: bolder;">样本流向图</h4>
                            <img src="content/images/calendar.svg" style="position:absolute;right:0;top:0;height:22px;width: 22px;" alt="选择日期" ng-click="vm.selectDate()">
                            <img src="content/images/nodata1.png" style="height:350px;width: 500px;" alt="样本流向图">
                        </div>
                        <div ng-if="!vm.daySampleCountFlag">
                        <grid-multiple-chart  type="vm.type" enlarged = "vm.enlarged(1)" type-content="vm.typeContent" data="vm.daySampleCountData" reload-data = "vm.searchType()" height-style="vm.heightStyle" ></grid-multiple-chart>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <!--城市的样本量统计-->
                        <div ng-if="vm.citySampleCountFlag" class="text-center">
                            <h4 style="font-weight: bolder;">城市的样本量</h4>
                            <img src="content/images/nodata1.png" style="height:561px;width: 100%;" alt="城市的样本量">
                        </div>
                        <div ng-if="!vm.citySampleCountFlag">
                            <scatter-map-chart data="vm.citySampleCountData" enlarged = "vm.enlarged(2)"  query-sample-count = "vm.querySampleCount()" geo-index = "vm.geoIndex" left="vm.left" map-status="vm.mapStatus" zoom="vm.zoom"></scatter-map-chart>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="row">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-md-12">
                                    <!--项目点样本分布-->
                                    <div ng-if="!vm.projectSiteSampleCountFlag" class="text-center" >
                                        <h4 style="font-weight: bolder;">项目点样本分布</h4>
                                        <img src="content/images/nodata1.png" style="height: 164px"  alt="项目点样本分布">
                                    </div>
                                    <div ng-if="vm.projectSiteSampleCountFlag">
                                        <bar-project-sites-chart data="vm.projectSiteSampleCountData" enlarged = "vm.enlarged(3)" height-style="vm.screenSize"></bar-project-sites-chart>
                                    </div>
                                    <div ng-if="!vm.sampleTypeSampleCountFlag" class="text-center" >
                                        <h4 style="font-weight: bolder;">样本类型分布</h4>
                                        <img src="content/images/nodata1.png" style="height: 160px" alt="样本类型分布">
                                    </div>
                                    <!--样本类型样本分布-->
                                    <div ng-if="vm.sampleTypeSampleCountFlag">
                                        <bar-sample-type-chart data="vm.sampleTypeSampleCountData" enlarged = "vm.enlarged(4)" height-style="vm.screenSize"></bar-sample-type-chart>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <!--性别-->
                                    <div ng-if="!vm.sexSampleCountFlag" class="text-center">
                                        <h4 style="font-weight: bolder;">样本性别</h4>
                                        <img src="content/images/nodata1.png" style="height: 160px"  alt="样本性别">
                                    </div>
                                    <div ng-if="vm.sexSampleCountFlag" >
                                        <pie-sex-chart data="vm.sexSampleCountData" enlarged = "vm.enlarged(5)" height-style="vm.heightStyle"></pie-sex-chart>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <!--疾病-->
                                    <div ng-if="!vm.diseaseTypeSampleCountFlag" class="text-center"  >
                                        <h4 style="font-weight: bolder;">样本疾病</h4>
                                        <img src="content/images/nodata1.png" style="height: 160px"  alt="样本疾病">
                                    </div>
                                    <div ng-if="vm.diseaseTypeSampleCountFlag" >
                                        <pie-disease-chart data="vm.diseaseTypeSampleCountData" enlarged = "vm.enlarged(6)" height-style="vm.heightStyle"></pie-disease-chart>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <div class="col-md-4">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <!--年龄段样本分布-->
                        <div ng-if="vm.ageSampleCountFlag" class="text-center">
                            <h4 style="font-weight: bolder;">样本年龄</h4>
                            <img src="content/images/nodata1.png" style="height:561px;width: 100%;" alt="样本年龄">
                        </div>
                        <div ng-if="!vm.ageSampleCountFlag">
                            <bar-age-chart data="vm.ageSampleCountData" enlarged = "vm.enlarged(7)"  height-style="vm.screenSize"></bar-age-chart>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<pageslide ps-open="vm.checked" ps-body-class="true">
    <div class="inventory">
        <div>
            <div class="panel panel-default">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-md-4 pr-0">
                            <h4>搜索条件</h4>
                        </div>
                        <div class="col-md-8 pl-0 text-right">
                            <button type="submit" class="btn btn-default btn-primary" ng-click="vm.search()">搜索</button>
                            <button type="submit" class="btn btn-default" ng-click="vm.empty()">清空</button>
                            <button type="submit" class="btn btn-default" ng-click="vm.close()">关闭</button>
                        </div>
                    </div>
                </div>
                <div class="panel-body sample-search">
                    <div class="form-group">
                        <label>样本编码</label>
                        <selectize placeholder='' options='vm.myOptions' config="vm.sampleCodeConfig" ng-model="vm.arraySampleCode" ng-disabled='disable' required='true'></selectize>

                    </div>
                    <div class="form-group">
                        <label>盒子编码</label>
                        <selectize placeholder='' options='vm.myOptions' config="vm.boxCodeConfig" ng-model="vm.arrayBoxCode" ng-disabled='disable' required='true'></selectize>

                    </div>
                    <div class="form-group">
                        <label>项目编码</label>
                        <selectize options='vm.projectOptions' config="vm.projectConfig"
                                   ng-model="vm.projectCodeStr"></selectize>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-6">
                            <label>样本类型</label>
                            <selectize options='vm.sampleTypeOptions' config="vm.sampleTypeConfig"
                                       ng-model="vm.dto.sampleTypeId"></selectize>

                        </div>
                        <div class="form-group col-md-6">
                            <label>样本分类</label>
                            <selectize options='vm.sampleClassOptions' config="vm.sampleClassConfig"
                                       ng-model="vm.dto.sampleClassificationId"
                            ></selectize>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <div>
                                    <label>位置</label>
                                </div>
                                <div class="pull-left">
                                    <selectize options='vm.frozenBoxPlaceOptions' config="vm.frozenBoxPlaceConfig"
                                               style="width:85px"
                                               ng-model="vm.dto.equipmentId"></selectize>
                                </div>
                                <div class="pull-left pl-5">
                                    <selectize options='vm.frozenBoxAreaOptions' config="vm.frozenBoxAreaConfig"
                                               style="width:85px"
                                               ng-model="vm.dto.areaId" ></selectize>
                                </div>
                                <div class="pull-left pl-5">
                                    <selectize options='vm.frozenBoxShelfOptions' config="vm.frozenBoxShelfConfig"
                                               style="width:85px"
                                               ng-model="vm.dto.shelvesId"></selectize>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-6">
                            <label>样本状态</label>
                            <selectize options='vm.statusOptions' config="vm.statusConfig"
                                       ng-model="vm.dto.status"></selectize>
                        </div>
                        <div class="form-group col-md-6">
                            <label>库存状态</label>
                            <selectize options='vm.frozenTubeStatusOptions' config="vm.frozenTubeStatusConfig"
                                       ng-model="vm.dto.frozenTubeState"></selectize>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-6">
                            <label>性别</label>
                            <selectize options='vm.sexOptions' config="vm.sexConfig"
                                       ng-model="vm.dto.sex"></selectize>
                        </div>
                        <div class="form-group col-md-6">
                            <label>年龄</label>
                            <input type="text" class="form-control" ng-model="vm.dto.age">
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-6">
                            <label>疾病类型</label>
                            <selectize options='vm.diseaseTypeOptions' config="vm.diseaseTypeConfig"
                                       ng-model="vm.dto.diseaseTypeId"></selectize>
                        </div>
                        <div class="form-group col-md-6">
                            <label>使用次数</label>
                            <input type="text" class="form-control" ng-model="vm.dto.sampleUsedTimes">
                        </div>
                    </div>




                    <!--<div class="form-group">-->
                    <!--<label>&nbsp;</label>-->
                    <!--<button type="submit" class="btn btn-default btn-primary" ng-click="vm.search()">搜索</button>-->
                    <!--</div>-->
                </div>
            </div>





        </div>
    </div>
</pageslide>
<script type="text/ng-template" id="selectDateModal.html">
    <div class="modal-header">
        <h3 class="modal-title">选择日期</h3>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-md-12">
                <div class="form-group">
                    <label>开始时间</label>
                    <div class="input-group">
                        <input type="text" class="form-control" name="startDate"
                               ui-mask="9999-99-99" uib-datepicker-popup="{{dateformat}}" ng-model="vm.stockInOut.startDate"
                               is-open="vm.datePickerOpenStatus.startDate"
                               required/>
                        <span class="input-group-btn">
                                <button type="button" class="btn btn-default" ng-click="vm.openCalendar('startDate')"><i
                                    class="glyphicon glyphicon-calendar"></i></button>
                            </span>
                    </div>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-group">
                    <label>结束时间</label>
                    <div class="input-group">
                        <input type="text" class="form-control" name="endDate"
                               ui-mask="9999-99-99" uib-datepicker-popup="{{dateformat}}" ng-model="vm.stockInOut.endDate"
                               is-open="vm.datePickerOpenStatus.endDate"
                               required/>
                        <span class="input-group-btn">
                                <button type="button" class="btn btn-default" ng-click="vm.openCalendar('endDate')"><i
                                    class="glyphicon glyphicon-calendar"></i></button>
                            </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-click="vm.ok()">确定</button>
        <button class="btn btn-warning" type="button" ng-click="vm.cancel()">取消</button>
    </div>
</script>
