<div class="stock-in-new">
    <div class="">
        <h3 class="pull-left" style="margin: 0">新增入库记录<small>&nbsp;{{vm.entity.stockInCode}}</small></h3>
        <div class="form-group pull-right mr-10">
            <div class="text-right">
                <button type="button" class="btn btn-primary" ng-click="vm.stockInFinish()"
                        ng-show="vm.entity.status != '7002'"
                        ng-disabled="!vm.stockInflag"
                >入库完成</button>
                <button type="button" class="btn btn-primary" ng-click="vm.stockInSave()" ng-show="vm.entity.status != '7002'">保存</button>
                <button type="button" class="btn" ui-sref="stock-in">关闭</button>
            </div>
        </div>
        <div style="clear: both"></div>
    </div>
    <div class="row form-horizontal">
        <!--<div class="col-md-1 text-right"><strong>入库单编号</strong></div>-->
        <!--<div class="col-md-1">{{vm.entity.stockInCode}}</div>-->
        <div class="col-md-3">
            <div class="form-group ">
                <label class="col-md-4 control-label">
                    <span class="required-field"></span>
                    项目编码
                </label>
                <div class="col-md-8">
                    <selectize options='vm.projectOptions' config="vm.projectConfig"
                               ng-model="vm.entity.projectId" ng-disabled="vm.entity.id"></selectize>
                    <!--<input type="text" class="form-control"  ng-model="vm.transportRecord.projectSiteCode">-->
                </div>
            </div>
        </div>
        <!--<div class="col-md-3">-->
            <!--<div class="form-group three-col project-sites">-->
                <!--<label class="col-md-4 control-label">-->
                    <!--项目点</label>-->
                <!--<div class="col-md-8">-->
                    <!--<selectize options='vm.projectSitesOptions' config="vm.projectSitesConfig"-->
                               <!--ng-model="vm.entity.projectSiteId"></selectize>-->
                    <!--&lt;!&ndash;<input type="text" class="form-control"  ng-model="vm.transportRecord.projectCode">&ndash;&gt;-->
                <!--</div>-->
            <!--</div>-->

        <!--</div>-->

    </div>
    <div class="row">
        <div class="col-md-12">
            <table datatable="" dt-options="vm.dtOptions" dt-columns="vm.dtColumns" dt-instance="vm.dtInstance"
                   class=" table table-striped table-bordered mt-0">
                <tfoot>
                <tr>
                    <th></th>
                    <th>冻存盒号</th>
                    <th>样本类型</th>
                    <th>样本分类</th>
                    <th>冻存位置</th>
                    <th>样本数量</th>
                    <th>状态</th>
                    <th style="width: 110px"></th>
                </tr>
                </tfoot>
            </table>
        </div>
    </div>
    <div class="row" ng-if="vm.showFlag">
        <edit-stock-directive
        stock-in-info = "vm.entity"
        stock-in-box = "vm.box"
        reload-data = "vm.initStockInBoxesTable()"
        edit-flag = "vm.editFlag"
        show-flag = "vm.showFlag"
        ></edit-stock-directive>
    </div>
</div>
<script type="text/ng-template" id="stockInNew.html">
    <div class="modal-header">
        <h3 class="modal-title" id="modal-title">保存入库记录操作</h3>
    </div>
    <div class="modal-body" id="modal-body">
        添加冻存盒时，需要保存项目编码，且项目编码不可修改，是否继续添加？
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-click="vm.ok()">确定</button>
        <button class="btn btn-warning" type="button" ng-click="vm.cancel()">取消</button>
    </div>
</script>
