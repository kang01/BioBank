<form name="uploadImgForm" novalidate>
    <div class="modal-header">
        <h3 class="modal-title">
            上传附件
        </h3>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-md-12">
                <div class="form-group">
                    <label>附件名称
                        <span class="required-field"></span></label>
                    <input type="text" class="form-control" ng-model="vm.entity.fileTitle" required>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="form-group">
                    <label>
                        附件描述
                    </label>
                    <textarea rows="4" class="form-control resize-none" ng-model="vm.entity.description" maxlength="1000"></textarea>
                </div>
            </div>
        </div>
        <!--vm.status 1:创建 2.编辑-->
        <div class="row" ng-if="vm.status == '1'">
            <div class="col-md-12">
                <div class="form-group self-upload">
                    <label>附件图片
                        <span class="required-field"></span>
                        <small>(图片大小不能大于2M！)</small>
                    </label>
                    <!--<input type="file" id="one-input" accept="image/*" file-model="vm.images"-->
                    <!--onchange="angular.element(this).scope().vm.img_upload(this.files)"/>-->
                    <div class="input-group">
                        <input type="text" class=" form-control" ng-model="vm.file.name" disabled>
                        <div class="input-group-addon btn btn-default" ngf-select="vm.img_upload($file)"  ngf-accept="'image/*'" ngf-max-size="2MB">上传</div>
                        <input type="hidden" ng-model="vm.file.name" required>

                        <!--<div class="input-group-addon" style="cursor: pointer">-->
                            <!--<a href="javascript:;" name="file">-->
                                <!--<input type="file" accept="image/*"  ng-model="vm.file"-->
                                       <!--onchange="angular.element(this).scope().vm.img_upload(this.files)"/>上传-->
                            <!--</a>-->
                        <!--</div>-->
                    </div>
                </div>
            </div>
        </div>
        <div class="row" ng-if="vm.status == '1'">
            <div class="col-md-12">
                <div class="">
                    <canvas id="canvas" style="display: none">
                        你的浏览器居然不支持Canvas？！赶快换一个吧！！
                    </canvas>
                </div>
                <div>
                    <canvas id="canvas1" style="display: none">
                        你的浏览器居然不支持Canvas？！赶快换一个吧！！
                    </canvas>
                </div>
                <div>
                    <img ng-src="{{vm.thumb.imgSrc}}" class="img-thumbnail" style="width: 140px;height: 140px">
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-click="vm.ok()" ng-disabled="uploadImgForm.$invalid">确定</button>
        <button class="btn btn-warning" type="button" ng-click="vm.cancel()">取消</button>
    </div>
</form>

